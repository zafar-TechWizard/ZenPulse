<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Virtual Pet - ZenPulse</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pet.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.14/lottie.min.js"></script>
    <meta name="csrf-token" content="{{ csrf_token() }}">
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="sidebar-top">
                <button class="nav-button menu-button">
                    <div class="menu-icon">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-button" onclick="window.location.href='{{ url_for('dashboard') }}'"><img src="{{ url_for('static', filename='images/home.png') }}" alt="Home"></button>
                <button class="nav-button" onclick="window.location.href='{{ url_for('chat') }}'"><img src="{{ url_for('static', filename='images/chatbot.png') }}" alt="AI Chat"></button>
                <button class="nav-button" onclick="window.location.href='{{ url_for('game') }}'"><img src="{{ url_for('static', filename='images/game-pad.png') }}" alt="Game"></button>
                <button class="nav-button active" onclick="window.location.href='{{ url_for('pet') }}'"><img src="{{ url_for('static', filename='images/paw.png') }}" alt="Pet"></button>
                <button class="nav-button" onclick="window.location.href='{{ url_for('music') }}'"><img src="{{ url_for('static', filename='images/music-notes.png') }}" alt="music"></button>
                <button class="nav-button" onclick="window.location.href='{{ url_for('gratitude_journal') }}'"><img src="{{ url_for('static', filename='images/gratitude.png') }}" alt="Gratitude"></button>
            </nav>
            <div class="sidebar-bottom">
                <button class="nav-button logout-button" onclick="window.location.href='{{ url_for('logout') }}'"><img src="{{ url_for('static', filename='images/user-logout.png') }}" alt="Logout"></button>
            </div>
        </aside>
        
        <main>
            <header>
                <div class="header-left">
                    <div class="logo-container">
                        <div class="logo">
                            <img src="{{ url_for('static', filename='images/new-logo.png') }}" alt="Logo">
                        </div>
                    </div>
                    <h1>ZenPulse</h1>
                </div>
                <div class="header-icons">
                    <label class="theme-switch" for="theme-toggle">
                        <input type="checkbox" id="theme-toggle">
                        <span class="slider round">
                            <i class="fas fa-sun"></i>
                            <i class="fas fa-moon"></i>
                        </span>
                    </label>
                </div>
                <div class="search-profile">
                    <div class="search-bar">
                        <input type="text" placeholder="Search...">
                        <button class="search-button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="profile-container">
                        <img src="{{ url_for('static', filename='images/profile.png') }}" alt="Profile" class="profile-pic">
                        <div class="profile-dropdown">
                            <span class="username">{{ username }}</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
            </header>
            
            <div class="content pet-page">
                <div class="pet-container">
                    <div class="pet-stats">
                        <div class="stat" id="happiness-stat">
                            <i class="fas fa-heart stat-icon"></i>
                            <span class="stat-label">Happiness</span>
                            <div class="progress-bar"><div class="progress" style="width: 100%;"></div></div>
                        </div>
                        <div class="stat" id="intelligence-stat">
                            <i class="fas fa-brain stat-icon"></i>
                            <span class="stat-label">Intelligence</span>
                            <div class="progress-bar"><div class="progress" style="width: 100%;"></div></div>
                        </div>
                        <div class="stat" id="energy-stat">
                            <i class="fas fa-bolt stat-icon"></i>
                            <span class="stat-label">Energy</span>
                            <div class="progress-bar"><div class="progress" style="width: 100%;"></div></div>
                        </div>
                    </div>
                    <div class="pet-scene">
                        <div id="lottie-container"></div>
                    </div>
                    <div class="pet-dialogue">
                        <p id="pet-response">Hi there! I'm your AI virtual pet. How can I help you today?</p>
                        <div class="typing-indicator" style="display: none;">
                            <span></span><span></span><span></span>
                        </div>
                    </div>
                </div>
                <div class="interaction-area">
                    <div class="combined-chat-input">
                        <div class="top-row">
                            <div class="interaction-buttons">
                                <button class="action-btn" data-action="feed" title="Feed"><i class="fas fa-utensils"></i></button>
                                <button class="action-btn" data-action="play" title="Play"><i class="fas fa-gamepad"></i></button>
                                <button class="action-btn" data-action="sleep" title="Sleep"><i class="fas fa-bed"></i></button>
                                <button class="action-btn" data-action="mood" title="Check Mood"><i class="fas fa-smile"></i></button>
                                <button class="action-btn" data-action="suggest" title="Get Suggestion"><i class="fas fa-lightbulb"></i></button>
                            </div>
                            <div class="auto-suggestions">
                                <button class="suggestion-btn">How are you?</button>
                                <button class="suggestion-btn">Let's play!</button>
                                <button class="suggestion-btn">I'm feeling sad</button>
                                <button class="suggestion-btn">Tell me a joke</button>
                            </div>
                        </div>
                        <div class="user-input">
                            <input type="text" id="user-message" placeholder="Chat with your AI pet...">
                            <button id="send-button"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="{{ url_for('static', filename='js/pet.js') }}"></script>
</body>
</html>